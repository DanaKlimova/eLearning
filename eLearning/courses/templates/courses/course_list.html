{% extends 'main/base.html' %}

{% block title %}
Course list
{% endblock %}

{% block styles %}
<link rel="stylesheet" type="text/css"
      href="https://cdn.datatables.net/v/dt/dt-1.10.20/cr-1.5.2/rr-1.2.6/sc-2.0.1/sp-1.0.1/sl-1.3.1/datatables.min.css"/>
{% load static %}
<link rel="stylesheet" href="{% static 'courses/css/course_list.css' %}" />
{% endblock %}

{% block content %}
<a href="{% url 'course_create' %}">
    <button class="add-course-button">add course</button>
</a>
<div class="table">
  <table id="courseTableId" class="cell-border stripe hover">
    <thead>
      <tr>
        <th scope="col">â„–</th>
        <th scope="col">Course</th>
        <th scope="col">Rating</th>
        <th scope="col">Action</th>
      </tr>
    </thead>
    <tbody>
      {% for course in course_list %}
      <tr>
          <td>{{ forloop.counter }}</td>
          <td>{{ course.name }}</td>
          <td>{{ course.rating|default:"course wasn't rated" }}</td>
          <td><a href="{% url 'course_edit' course_pk=course.pk %}"><i class="far fa-edit"></i></a></td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}

{% block js_scripts %}
<script src="https://kit.fontawesome.com/e278b3cacc.js" crossorigin="anonymous"></script>
<script type="text/javascript"
        src="https://cdn.datatables.net/v/dt/dt-1.10.20/cr-1.5.2/rr-1.2.6/sc-2.0.1/sp-1.0.1/sl-1.3.1/datatables.min.js">
</script>
<script>
$(document).ready(function(){
  $("#courseTableId").DataTable();
  setClassByTag("input", "glowing-border");
  setClassByTag("select", "glowing-border");

  function setClassByTag(tag, css_class) {
    elements = document.getElementsByTagName(tag);
    for (let element of elements) {
      element.classList.add(css_class);
    }
  }
});
</script>
{% endblock %}

